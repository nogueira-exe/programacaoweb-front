<!DOCTYPE html>
<html lang="pt-br">

<head>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <style>
    :root {
      --bg-color: #ffffff;
      --text-color: #000000;
      --table-header-bg: #f0f0f0;
      --table-border: #cccccc;
      --input-bg: #ffffff;
      --table-row-bg: #ffffff;
      --table-striped-bg: #f9f9f9;
    }

    @media (prefers-color-scheme: dark) {
      :root {
        --bg-color: #1e1e1e;
        --text-color: #ffffff;
        --table-header-bg: #2c2c2c;
        --table-border: #444444;
        --input-bg: #2a2a2a;
        --table-row-bg: #1e1e1e;
        --table-striped-bg: #2a2a2a;
      }
    }

    body {
      font-family: Arial, sans-serif;
      background-color: var(--bg-color);
      color: var(--text-color);
      margin: 20px;
    }

    input[type="search"] {
      width: 100%;
      padding: 10px;
      margin: 20px 0;
      border: 1px solid var(--table-border);
      border-radius: 5px;
      background-color: var(--input-bg);
      color: var(--text-color);
    }

    .table {
      color: var(--text-color);
      border-color: var(--table-border);
    }

    .table thead {
      background-color: var(--table-header-bg);
      color: var(--text-color);
    }

    .table-striped tbody tr:nth-of-type(odd) {
      background-color: var(--table-striped-bg);
    }

    .table-bordered th,
    .table-bordered td {
      border: 1px solid var(--table-border);
    }
  </style>
</head>

<body class="bg-light">
  <div class="container py-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h1 class="text-primary m-0">Apontamentos</h1>
      <a routerLink="/cadastro" class="btn btn-success">
        <i class="bi bi-plus-lg me-1"></i> Novo Cadastro
      </a>
    </div>

    <div class="row g-4">
      <div class="col-12 col-md-6 col-lg-4" *ngFor="let apontamento of apontamentos">
        <div class="card h-100 shadow-sm border-0">
          <div class="card-body">
            <h5 class="card-title text-primary">{{ apontamento.descricao || 'Sem descrição' }}</h5>
            <p class="mb-1"><strong>Usuário:</strong> {{ apontamento.id_usuario }}</p>
            <p class="mb-1"><strong>Categoria:</strong> {{ apontamento.id_categoria }}</p>
            <p class="mb-1"><strong>Cliente:</strong> {{ apontamento.id_cliente }}</p>
            <p class="mb-1"><strong>Data:</strong> {{ apontamento.data }}</p>
            <p class="mb-1"><strong>Horas:</strong> {{ apontamento.horas }}</p>
            <p class="mb-1"><strong>Projeto:</strong> {{ apontamento.projeto }}</p>
            <p class="mb-1"><strong>Extra:</strong> {{ apontamento.extra }}</p>
            <p class="mb-1"><strong>Data Exclusão:</strong> {{ apontamento.data_de_exclusao || '—' }}</p>
            <p class="mb-1"><strong>Status Extra:</strong>
              <span class="badge bg-{{ apontamento.status_extra === 'Aprovado' ? 'success' : 'warning' }}">
                {{ apontamento.status_extra || '—' }}
              </span>
            </p>
            <p class="mb-1"><strong>Resposta Extra:</strong> {{ apontamento.resposta_extra || '—' }}</p>
            <p class="mb-1"><strong>Observação:</strong> {{ apontamento.observacao || '—' }}</p>
            <p class="mb-2">
              <strong>Garantia:</strong>
              <span [class]="apontamento.garantia ? 'text-success' : 'text-muted'">
                {{ apontamento.garantia ? 'Sim' : 'Não' }}
              </span>
            </p>
            <a [routerLink]="['/edicao', apontamento.id]" class="btn btn-outline-primary btn-sm w-100">
              <i class="bi bi-pencil-square me-1"></i> Editar
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
</body>

</html>